<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>KodakBank ‚Äî Sign Up</title>
  <style>
    *{box-sizing:border-box;font-family:system-ui,Segoe UI,Arial,sans-serif}
    body{margin:0;background:#f3f5f9;color:#1d2230}
    .center{min-height:100vh;display:grid;place-items:center;padding:24px}
    .card{width:100%;max-width:420px;background:#fff;padding:24px 22px;border-radius:14px;box-shadow:0 12px 32px rgba(0,0,0,.08)}
    h1{margin:0 0 6px;font-size:24px}
    .sub{margin:0 0 18px;color:#6b7280}
    label{display:block;margin-top:12px;font-size:14px;color:#374151}
    input{width:100%;margin-top:6px;padding:11px 12px;border:1px solid #d1d5db;border-radius:10px;outline:none;background:#fff}
    input:focus{border-color:#2563eb}
    .btn{margin-top:16px;width:100%;padding:12px 14px;border:0;border-radius:10px;background:#2563eb;color:#fff;font-weight:600;cursor:pointer}
    .btn:hover{filter:brightness(.95)}
    .msg{min-height:18px;margin-top:10px;font-size:14px}
    .small{margin-top:10px;color:#6b7280;font-size:14px}
    .pwd{position:relative}
    .pwd button{position:absolute;right:8px;top:50%;transform:translateY(-50%);border:0;background:transparent;cursor:pointer;font-size:16px}
  </style>
</head>
<body>
  <main class="center">
    <div class="card">
      <h1>Create your account</h1>
      <p class="sub">It takes less than a minute</p>

      <form id="signupForm">
        <label>Email</label>
        <input type="email" id="signupEmail" placeholder="Enter your email here" required />

        <label>Password</label>
        <div class="pwd">
          <input type="password" id="signupPassword" placeholder="‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢" required />
          <button type="button" id="togglePwd" aria-label="Show password">üëÅÔ∏è</button>
        </div>

        <button class="btn" type="submit">Create account</button>
        <p id="signupMsg" class="msg"></p>

        <p class="small">
          Already have an account?
          <a class="link" href="/login.html">Sign in</a>
        </p>
      </form>
    </div>
  </main>

  <script>
    // show/hide password
    document.getElementById('togglePwd').addEventListener('click', () => {
      const i = document.getElementById('signupPassword');
      i.type = i.type === 'password' ? 'text' : 'password';
    });

    // submit -> POST /api/signup
    document.getElementById('signupForm').addEventListener('submit', async (e) => {
      e.preventDefault();
      const email = document.getElementById('signupEmail').value.trim();
      const password = document.getElementById('signupPassword').value;
      const msg = document.getElementById('signupMsg');
      msg.textContent = 'Creating account‚Ä¶';

      try {
        const res = await fetch('/api/signup', {
          method: 'POST',
          headers: { 'Content-Type': 'application/json' },
          body: JSON.stringify({ email, password })
        });
        const data = await res.json();
        if (!res.ok) throw new Error(data.error || 'Signup failed');
        msg.textContent = data.message || 'User registered successfully';
      } catch (err) {
        msg.textContent = err.message;
      }
    });
  </script>
</body>
</html>
